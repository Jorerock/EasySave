<Window x:Class="EasySave.WPF.Views.AppSettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:domain="clr-namespace:EasySave.Core.Domain;assembly=EasySave.Core"
        Title="App Parameters" Height="686" Width="550"
        WindowStartupLocation="CenterOwner">

    <Window.Resources>
        <!-- Génère automatiquement la liste des valeurs de l'enum AppLanguage -->
        <!-- NOTE : on utilise domain:AppLanguage pour éviter le conflit avec
             System.Windows.Markup.XmlLanguage que WPF injecte via l'attribut Language -->
        <ObjectDataProvider x:Key="LanguageEnumValues"
                            MethodName="GetValues"
                            ObjectType="{x:Type sys:Enum}">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="domain:AppLanguage"/>
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Extensions To Encrypt -->
        <StackPanel Grid.Row="0" Margin="0,5">
            <TextBlock FontWeight="Bold" FontFamily="Cascadia Mono" FontSize="13"
                       Text="Extensions To Encrypt"/>
            <CheckBox Content=".txt"/>
            <CheckBox Content=".csv"/>
            <CheckBox Content=".png"/>
            <CheckBox Content=".jpg"/>
            <!-- Liste dynamique des extensions cochées -->
            <ItemsControl x:Name="ExtensionsListBox" Margin="0,5">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <CheckBox Content="{Binding}" IsChecked="True"
                                  Unchecked="ExtensionCheckBox_Unchecked"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>

        <!-- Business Software Path -->
        <StackPanel Grid.Row="1" Margin="0,5">
            <TextBlock FontWeight="Bold" FontFamily="Cascadia Mono" FontSize="13"
                       Text="Business Software Path :"/>
            <TextBlock Text="(Copy-paste the path or type it)"
                       FontSize="11" Foreground="Gray" Margin="0,2"/>
            <TextBox x:Name="SourceTextBox"
                     Margin="0,5"
                     Height="30"
                     ToolTip="Example: C:\Windows\System32\calc.exe"/>
        </StackPanel>

        <!-- (Row 2 réservé pour extension future) -->
        <StackPanel Grid.Row="2" Margin="0,5"/>

        <!-- Language — généré depuis l'enum -->
        <StackPanel Grid.Row="3" Margin="0,5">
            <TextBlock FontWeight="Bold" FontFamily="Cascadia Mono" FontSize="13"
                       Text="Language"/>
            <ComboBox x:Name="LanguageComboBox"
                      Margin="0,5" Height="30"
                      ItemsSource="{Binding Source={StaticResource LanguageEnumValues}}"/>
        </StackPanel>

        <!-- Log Format -->
        <StackPanel Grid.Row="5" Margin="0,5">
            <TextBlock FontWeight="Bold" FontFamily="Cascadia Mono" FontSize="13"
                       Text="Log Format"/>
            <ComboBox x:Name="LogFormatComboBox" Margin="0,5" Height="30">
                <ComboBoxItem Content="JSON" IsSelected="True"/>
                <ComboBoxItem Content="XML"/>
            </ComboBox>
        </StackPanel>

        <!-- Buttons -->
        <StackPanel Grid.Row="6" Orientation="Horizontal"
                    HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="Save" Width="100" Height="35"
                    Margin="0,0,10,0" Click="Save_Click"
                    Background="#4CAF50" Foreground="White"/>
            <Button Content="Cancel" Width="100" Height="35"
                    Click="Cancel_Click"/>
        </StackPanel>
    </Grid>
</Window>
